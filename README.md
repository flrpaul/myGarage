Σύστημα Αντιπροσωπείας Αυτοκινήτων

MyGarage

<Παύλος Φλώρος>                                
<Κωνσταντίνος Τσάτσας>
<Γιώργος Πετμεζάς>

GitHub URL : https://github.com/flrpaul/myGarage
Youtube Video Link : https://youtu.be/7clQfWJKXMI

Περιγραφή Εφαρμογής
Η εφαρμογή MyGarage είναι μια διαδικτυακή εφαρμογή που έχει ως στόχο να προσφέρει δυνατότητες καταχώρησης, διαχείρισης και κρατήσεων αυτοκινήτων. Απευθύνεται τόσο σε εταιρείες πώλησης αυτοκινήτων όσο και σε μεμονωμένους χρήστες που ενδιαφέρονται να δουν, να οδηγήσουν και να αγοράσουν αυτοκίνητα. Η εφαρμογή παρέχει τη δυνατότητα στους χρήστες να περιηγηθούν σε μια ποικιλία αυτοκινήτων, να κλείσουν δοκιμαστική οδήγηση και, εφόσον είναι ικανοποιημένοι, να ολοκληρώσουν την αγορά του αυτοκινήτου. 
    • Πολίτες (Citizen): Μπορούν να κάνουν εγγραφή, σύνδεση, αναζήτηση και αγορά αυτοκινήτων.
    • Αντιπροσωπείες (Dealership): Μπορούν να κάνουν εγγραφή, σύνδεση, καταχώρηση και διαχείριση των αυτοκινήτων τους. 
      
Κύριες Λειτουργίες
Πολίτες
    • Εγγραφή/Σύνδεση: Οι πολίτες μπορούν να δημιουργήσουν λογαριασμό και να συνδεθούν χρησιμοποιώντας email και κωδικό πρόσβασης.
    • Αναζήτηση Αυτοκινήτων: Οι χρήστες μπορούν να αναζητήσουν αυτοκίνητα με βάση διάφορα κριτήρια, όπως μάρκα, μοντέλο, τύπος καυσίμου και κινητήρας.
    • Κράτηση Δοκιμαστικής Οδήγησης: Οι χρήστες μπορούν να κάνουν κράτηση για μια δοκιμαστική οδήγηση.
    • Αγορά Αυτοκινήτων: Οι χρήστες μπορούν να αγοράσουν διαθέσιμα αυτοκίνητα.
Αντιπροσωπείες (Dealership)
    • Εγγραφή/Σύνδεση: Οι αντιπροσωπίες μπορούν να δημιουργήσουν λογαριασμό χρησιμοποιώντας το όνομα της επιχείρησης και τον ιδιοκτήτη.
    • Αναζήτηση Αυτοκινήτων: Μπορούν να αναζητήσουν αυτοκίνητα με βάση διάφορα κριτήρια, όπως μάρκα, μοντέλο, τύπος καυσίμου και κινητήρας.
    • Καταχώρηση Αυτοκινήτων: Μπορούν να καταχωρήσουν νέα αυτοκίνητα στη βάση δεδομένων.
    • Διαχείριση Αυτοκινήτων: Μπορούν να ενημερώσουν τη διαθεσιμότητα των αυτοκινήτων.
      
Τεχνολογίες που Χρησιμοποιούνται
Backend : Spring Boot (Java , Maven), Dependencies : Spring Web , MySQL Driver
    • REST API για επικοινωνία με το frontend. 
    • ORM (Hibernate) για επικοινωνία με τη βάση δεδομένων. 

Frontend: HTML, CSS, JavaScript 
    • Fetch API για επικοινωνία με το backend. 
    • Διαχείριση φόρμας για είσοδο,εγγραφή και διαχείριση αυτοκινήτων. 
    • Οπτικοποίηση διαθέσιμων αυτοκινήτων με μορφή πίνακα.

Database: MySQL
    • Αποθήκευση των στοιχείων των χρηστών, των αυτοκινήτων και των κρατήσεων.  

Αρχιτεκτονική Συστήματος 

Οντότητες

    • Citizen: Περιέχει πληροφορίες για τους πολίτες (όνομα, επίθετο, email, κωδικό πρόσβασης, ΑΦΜ).
    • DealerShip: Περιέχει πληροφορίες για τις αντιπροσωπείες (ΑΦΜ,όνομα εταιρείας, ιδιοκτήτης, κωδικός πρόσβασης).
    • Car: Περιέχει πληροφορίες για τα αυτοκίνητα (μάρκα, μοντέλο, τύπος καυσίμου, κινητήρας, θέσεις, τιμή, επιπλέον πληροφορίες, διαθεσιμότητα).
    • Booking: Περιέχει πληροφορίες για τις κρατήσεις δοκιμαστικής οδήγησης.

Σχέσεις μεταξύ των οντοτήτων
Σχέση Πολίτης (Citizen) - Κράτηση (Booking):
OneToMany
    • Ένας πολίτης μπορεί να κάνει πολλές κρατήσεις για δοκιμαστική οδήγηση, άρα έχουμε σχέση "Ένας-Προς-Πολλούς" (One Citizen - Many Bookings).
    • Στον κώδικα, η σχέση αυτή αποτυπώνεται με το @OneToMany στο Citizen που συνδέεται με πολλές εγγραφές Booking, ενώ στην οντότητα Booking χρησιμοποιείται το @ManyToOne για να δηλώσει την αναφορά του πολίτη.

Σχέση Αυτοκίνητο (Car) - Κράτηση (Booking):
OneToMany
    • Ένα αυτοκίνητο μπορεί να έχει πολλές κρατήσεις για δοκιμαστική οδήγηση από διαφορετικούς πολίτες, οπότε υπάρχει σχέση "Ένας-Προς-Πολλούς" (One Car - Many Bookings).
    • Η σχέση υλοποιείται στην κλάση Car μέσω της αναφοράς @OneToMany, και στην κλάση Booking με το @ManyToOne, όπου κάθε κράτηση συνδέεται με ένα μόνο αυτοκίνητο.
Σχέση Αντιπροσωπεία (DealerShip) - Αυτοκίνητο (Car):
OneToMany
    • Μια αντιπροσωπεία μπορεί να έχει πολλά αυτοκίνητα στη βάση δεδομένων, γεγονός που οδηγεί σε σχέση "Ένας-Προς-Πολλούς" (One DealerShip - Many Cars).
    • Η κλάση DealerShip έχει τη σχέση αυτή με το @OneToMany, ενώ στην κλάση Car χρησιμοποιείται το @ManyToOne, δηλώνοντας ότι κάθε αυτοκίνητο ανήκει σε μία αντιπροσωπεία.
Σχέση Πολίτης (Citizen) - Αυτοκίνητο (Car):
Δεν υπάρχει άμεση σχέση μεταξύ αυτών των δύο οντοτήτων, αλλά συνδέονται έμμεσα μέσω της οντότητας Booking. Ένας πολίτης μπορεί να κάνει κράτηση για ένα αυτοκίνητο, και αυτή η πληροφορία αποθηκεύεται στον πίνακα κρατήσεων.

Κύριες Κλάσεις
    • HelloController: Παρέχει τα endpoints για την επικοινωνία με το frontend.
    • HelloService: Περιέχει τη λογική της εφαρμογής για λειτουργίες όπως σύνδεση χρηστών, καταχώρηση αυτοκινήτων, αναζήτηση κλπ.
    • LoginIdentifier : Ο ρόλος της αποσκοπεί στην αναγνώριση εάν ο χρήστης είναι πολίτης ή αντιπροσωπία και χρησιμοποιείται από το endpoint /login στην HelloController.
    • RegisterUser : Παρέχει την λογική της εγγραφής του πολίτη ή αντιπροσωπίας και χρησιμοποιείται μέσω του endpoint /register στη HelloController.
    • CitizenRepository, DealerShipRepository, CarRepository, BookingRepository: Αλληλεπιδρούν με τη βάση δεδομένων παρέχοντας τις κατάλληλες μεθόδους(CRUD) για την αποθήκευση και ανάκτηση πληροφοριών
      
Σχήμα Βάσης Δεδομένων
Πίνακας Citizen
	Στήλες: afm, first_name, last_name, email, password
Πίνακας DealerShip 
	Στήλες: afm, companyname,owner,password
Πίνακας Car 	
	Στήλες: info, brand, model, fuel_type, engine, seats, price, availability, dealership_owner
Πίνακας Booking 
	Στήλες: id, car_model, citizen_name, date,time	
REST Endpoints
Η εφαρμογή παρέχει μια σειρά από endpoints για την επικοινωνία του frontend με το backend.
1. Διαχείριση Χρηστών
    • POST /register : Εγγραφή νέου πολίτη ή αντιπροσωπίας.
    • POST /login: Σύνδεση χρήστη (πολίτη ή αντιπροσωπείας).
2. Διαχείριση Αυτοκινήτων
    • GET /cars: Επιστρέφει όλα τα καταχωρημένα αυτοκίνητα.
    • POST /addcar: Προσθέτει νέο αυτοκίνητο στη βάση δεδομένων.
    • GET /searchcars: Αναζητά αυτοκίνητα με βάση διάφορα κριτήρια (μάρκα, μοντέλο, τύπος καυσίμου κλπ).
    • PUT /updatecaravailability: Ενημέρωση της διαθεσιμότητας ενός αυτοκινήτου.
3. Κράτηση και Αγορά Αυτοκινήτων
    • POST /booktestdrive: Κρατάει ένα αυτοκίνητο για δοκιμαστική οδήγηση.
    • POST /purchasecar: Αγοράζει ένα διαθέσιμο αυτοκίνητο.

Οδηγίες Εγκατάστασης 
Κατεβάστε τοπικά τον φάκελο zip και κάντε import το αρχείο elevateFinal στο ΙDE σας.
Όμοια για τον φάκελο ElevateFrontFinal για το frond end.
Ρυθμίσεις Βάσης: 
Με χρήση του Apache Server δημιουργήστε μια βάση δεδομένων στο MySQL με όνομα elevatefinal (πχ με χρήση του XAMPP).
Ενημερώστε το αρχείο application.properties με τις κατάλληλες ρυθμίσεις :
    • spring.datasource.url=jdbc:mysql://localhost/elevatefinal 
    • spring.datasource.username=root
    • spring.datasource.password=
      
    • spring.datasource.driver-class-name=org.gjt.mm.mysql.Driver
      
    • spring.jpa.hibernate.ddl-auto=create
      
    • spring.jpa.show-sql=true

* Σε περίπτωση που θέλετε να τρέξετε τον κώδικα σε άλλο port μπορείτε να προσθέσετε την εντολή server.port=8081 (πχ για το port 8081)

Ρυθμίσεις Frontend: 
Βεβαιωθείτε ότι το frontend επικοινωνεί με το backend στο σωστό port (π.χ. 8080). 
Postman
Παρακάτω φαίνονται οι δοκιμές μερικών endpoints στο postman καθώς τα αποτελέσματα σε μορφή JSON.
1) POST :  http://localhost:8080/addcar
{
  "model": "Model S",
  "brand": "Tesla",
  "fuelType": "Electric",
  "engine": "Dual Motor",
  "seats": 5,
  "price": 79999.99,
  "info": "Electric sedan with autopilot",
  "availability": 10,
  "dealerShip": {
    "afm": "1002"
  }
}
* Πρέπει το afm να υπάρχει μέσα στην βάση.

2) PUT : http://localhost:8080/updatecaravailability?carId=r8&newavailability=5
Eclipse message : You changed r8's availability to: 5
* Πρέπει το carId να υπάρχει μέσα στην βάση.

Παράδειγμα Χρήσης 
Σενάριο 1: Σύνδεση Πολίτη 
    • Ο πολίτης επισκέπτεται τη σελίδα σύνδεσης και εισάγει το email και τον κωδικό πρόσβασής του.
    • Το frontend στέλνει ένα αίτημα POST στο /login endpoint με τα στοιχεία.
    • Αν τα στοιχεία είναι σωστά, το backend επιστρέφει μήνυμα επιτυχίας και ο χρήστης μεταφέρεται στην κύρια σελίδα για τους πολίτες. 

Σενάριο 2: Καταχώρηση Αυτοκινήτου από αντιπροσωπεία 
    • Ο ιδιοκτήτης μιας αντιπροσωπίας συνδέεται και μεταφέρεται στη σελίδα καταχώρησης αυτοκινήτων.
    • Συμπληρώνει τα στοιχεία του νέου αυτοκινήτου (μάρκα, μοντέλο κλπ).
    • Το frontend στέλνει ένα αίτημα POST στο /addcar endpoint με τα στοιχεία του αυτοκινήτου.
    • Το backend αποθηκεύει το αυτοκίνητο στην βάση και ενημερώνει τον ιδιοκτήτη για την επιτυχημένη καταχώρηση. 
Σενάριο 3: Διαχείριση Διαθεσιμότητας Αυτοκινήτων από Αντιπροσωπεία
    • Ο ιδιοκτήτης μιας αντιπροσωπείας επιλέγει το αυτοκίνητο του οποίου θέλει να αλλάξει την διαθεσιμότητα.
    • Πατώντας το κουμπί Update Availability το frontend στέλνει ένα αίτημα PUT στο /updatecaravailability.
    • Το backend ενημερώνει τη βάση δεδομένων και επιστρέφει μήνυμα επιτυχίας.

Μελλοντικά Χαρακτηριστικά 
    • Υποστήριξη πολλαπλών γλωσσών: Προσθήκη υποστήριξης για πολλές γλώσσες, ώστε η εφαρμογή να μπορεί να χρησιμοποιηθεί από χρήστες διαφόρων χωρών.
    • Αξιολογήσεις και Κριτικές: Δυνατότητα για τους πολίτες να αφήνουν κριτικές για τα αυτοκίνητα και τις αντιπροσωπείες.
    • Εκπτώσεις και Προσφορές: Προσθήκη μηχανισμού για την εφαρμογή εκπτώσεων και προσφορών από τις αντιπροσωπείες στα αυτοκίνητα. 
Συμπεράσματα
Η εφαρμογή MyGarage παρέχει μια λύση για τη διαχείριση αυτοκινήτων, επιτρέποντας τόσο στους πολίτες όσο και στις αντιπροσωπίες να αλληλεπιδρούν με το σύστημα.


      
